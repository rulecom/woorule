{"version":3,"sources":["woorule.js"],"names":["jQuery","document","ready","$","woorule_error","show","on","target","prop","checked","submit","e","preventDefault","hide","email","val","tags","requireOptIn","length","console","log","ajax","url","ajax_var","type","data","action","nonce","success"],"mappings":"AAAAA,OAAQC,UAAWC,OAClB,SAAUC,GAET,SAASC,IACRD,EAAG,6BAA8BE,OAGlCF,EAAG,+BAAgC,sBAAuBG,GACzD,UACA,SAAWC,GACVJ,EAAG,uBAAwB,2BAA4BK,KAAM,YAAcD,EAAOE,YAIpFN,EAAG,2BAA4BO,QAC9B,SAAUC,GACTA,EAAEC,iBACFT,EAAG,6BAA8BU,OAEjC,IAAIC,EAAiBX,EAAG,8BAA+BY,MACnDC,EAAiBb,EAAG,2BAA4BY,MACpD,MAAME,EAAed,EAAG,8CAA+CY,OAE/DD,GAAWA,EAAMI,OAAS,EACjCd,KAIMY,IACNA,EAAO,cAGRG,QAAQC,IAAK,yBAA2BN,GAExCX,EAAEkB,KACD,CACCC,IAAKC,SAASD,IACdE,KAAM,OACNC,KAAM,CACLC,OAAQ,yBACRC,MAAOJ,SAASI,MAChBb,MAAAA,EACAE,KAAAA,EACAC,aAAAA,GAEDW,QAASH,GAEI,MAARA,GACHtB,EAAG,iCAAkCU,OACrCV,EAAG,+BAAgCE,OACnCc,QAAQC,IAAKK,IAGbrB","file":"woorule.min.js","sourcesContent":["jQuery( document ).ready(\n\tfunction ($) {\n\n\t\tfunction woorule_error() {\n\t\t\t$( '.woorule-subscribe .error' ).show();\n\t\t}\n\n\t\t$( '.woorule-subscribe__checkbox', '.woorule-subscribe' ).on(\n\t\t\t'change',\n\t\t\tfunction ( target ) {\n\t\t\t\t$( 'input[type=\"submit\"]', '.woorule-subscribe form' ).prop( 'disabled', ! target.checked )\n\t\t\t}\n\t\t)\n\n\t\t$( '.woorule-subscribe form' ).submit(\n\t\t\tfunction (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\t$( '.woorule-subscribe .error' ).hide();\n\n\t\t\t\tlet email          = $( '.woorule-subscribe #semail' ).val();\n\t\t\t\tlet tags           = $( '.woorule-subscribe .tag' ).val();\n\t\t\t\tconst requireOptIn = $( '.woorule-subscribe [name=\"require-opt-in\"]' ).val();\n\n\t\t\t\tif (( ! email) || (email.length < 4)) {\n\t\t\t\t\twoorule_error();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ( ! tags) {\n\t\t\t\t\ttags = 'Newsletter';\n\t\t\t\t}\n\n\t\t\t\tconsole.log( 'Shortcode form input: ' + email );\n\n\t\t\t\t$.ajax(\n\t\t\t\t\t{\n\t\t\t\t\t\turl: ajax_var.url,\n\t\t\t\t\t\ttype: 'post',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\taction: 'woorule_subscribe_user',\n\t\t\t\t\t\t\tnonce: ajax_var.nonce,\n\t\t\t\t\t\t\temail,\n\t\t\t\t\t\t\ttags,\n\t\t\t\t\t\t\trequireOptIn\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuccess( data ) {\n\n\t\t\t\t\t\t\tif (data == 'ok') {\n\t\t\t\t\t\t\t\t$( '.woorule-subscribe .form_elem' ).hide();\n\t\t\t\t\t\t\t\t$( '.woorule-subscribe .success' ).show();\n\t\t\t\t\t\t\t\tconsole.log( data );\n\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twoorule_error();\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t}\n\t\t);\n\n\t}\n);\n"]}