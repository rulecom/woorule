{"version":3,"sources":["woorule-alert.js"],"names":["jQuery","document","ready","$","woorule_error","show","on","target","prop","checked","e","preventDefault","hide","form","this","closest","product_id","val","email","tags","length","console","log","ajax","url","ajax_var","type","data","action","nonce","success"],"mappings":"AAAAA,OAAQC,UAAWC,OACf,SAAUC,GAEN,SAASC,IACLD,EAAG,yBAA0BE,OAGjCF,EAAG,2BAA4B,kBAAmBG,GAC9C,UACA,SAAWC,GACPJ,EAAG,uBAAwB,uBAAwBK,KAAM,YAAcD,EAAOE,YAItFN,EAAGF,UAAWK,GAAI,QAAS,kCAAkC,SAAUI,GACnEA,EAAEC,iBACFR,EAAG,yBAA0BS,OAE7B,IAAIC,EAAaV,EAAGW,MAAOC,QAAQ,kBAC/BC,EAAab,EAAG,sBAAuBU,GAAOI,MAC9CC,EAAaf,EAAG,iBAAkBU,GAAOI,MACzCE,EAAahB,EAAG,gBAAiBU,GAAOI,MAI5C,GAAQC,KAAWA,EAAME,OAAS,GAoClC,OA/BOD,IACHA,EAAO,SAGXE,QAAQC,IAAK,yBAA2BJ,GAExCf,EAAEoB,KACE,CACIC,IAAKC,SAASD,IACdE,KAAM,OACNC,KAAM,CACFC,OAAQ,0BACRC,MAAOJ,SAASI,MAChBb,WAAAA,EACAE,MAAAA,EACAC,KAAAA,GAGJW,QAASH,GACDA,EAAKG,SACL3B,EAAG,6BAA8BS,OACjCT,EAAG,2BAA4BE,OAC/BgB,QAAQC,IAAKK,IAGbvB,QAMT,EAnCHA","file":"woorule-alert.min.js","sourcesContent":["jQuery( document ).ready(\n    function ($) {\n\n        function woorule_error() {\n            $( '.woorule-alert .error' ).show();\n        }\n\n        $( '.woorule-alert__checkbox', '.woorule-alert' ).on(\n            'change',\n            function ( target ) {\n                $( 'input[type=\"submit\"]', '.woorule-alert form' ).prop( 'disabled', ! target.checked )\n            }\n        )\n\n        $( document ).on( 'click', '.woorule-alert [type=\"submit\"]', function( e ) {\n            e.preventDefault();\n            $( '.woorule-alert .error' ).hide();\n\n            let form       = $( this ).closest('.woorule-alert');\n            let product_id = $( '[name=\"product_id\"]', form ).val();\n            let email      = $( '[name=\"email\"]', form ).val();\n            let tags       = $( '[name=\"tags\"]', form ).val();\n\n            //const requireOptIn = $( '[name=\"require-opt-in\"]', form ).val();\n\n            if (( ! email) || (email.length < 4)) {\n                woorule_error();\n                return;\n            }\n\n            if ( ! tags) {\n                tags = 'Alert';\n            }\n\n            console.log( 'Shortcode form input: ' + email );\n\n            $.ajax(\n                {\n                    url: ajax_var.url,\n                    type: 'post',\n                    data: {\n                        action: 'woorule_subscribe_alert',\n                        nonce: ajax_var.nonce,\n                        product_id,\n                        email,\n                        tags,\n                        //requireOptIn\n                    },\n                    success( data ) {\n                        if (data.success) {\n                            $( '.woorule-alert .form_elem' ).hide();\n                            $( '.woorule-alert .success' ).show();\n                            console.log( data );\n\n                        } else {\n                            woorule_error();\n                        }\n                    },\n                }\n            );\n\n            return false;\n        } );\n\n    }\n);\n"]}